## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker
docker compose build
docker compose up -d
docker compose logs -f
docker compose down

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
npm install
npm run dev

### –∑–∞–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ Ubuntu

## –ò–∑–º–µ–Ω–µ–Ω–∏—è

‚úÖ **–ü–û–õ–ù–ê–Ø –ü–ï–†–ï–†–ê–ë–û–¢–ö–ê –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò –° –ù–£–õ–Ø**

### Backend –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –Ω–æ–≤–∞—è RefreshToken entity —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π token rotation
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω JwtAuthService —Å access (15 –º–∏–Ω) –∏ refresh (7 –¥–Ω–µ–π) tokens
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ CSRF –∑–∞—â–∏—Ç–∞ —Å double submit cookie pattern
- ‚úÖ –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π AuthController —Å MVC –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ JWT middleware –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤ –∏–∑ httpOnly cookies
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω cookie-parser middleware –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å cookies

### Frontend –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- ‚úÖ –°–æ–∑–¥–∞–Ω React AuthContext –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ü–µ—Ä–µ–ø–∏—Å–∞–Ω API client —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π CSRF —Ç–æ–∫–µ–Ω–æ–≤ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ 401 –æ—à–∏–±–æ–∫
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ login —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è AuthContext
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω AuthGuard –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω AuthProvider –≤ –∫–æ—Ä–Ω–µ–≤–æ–π layout –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### Infrastructure –∏–∑–º–µ–Ω–µ–Ω–∏—è:
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω Dockerfile backend –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è npx nest build
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ cookie-parser –≤ main.ts
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã –∏ TypeScript –æ—à–∏–±–∫–∏

–ß—Ç–æ —Å–¥–µ–ª–∞–ª –ò–ò

**–ü–û–õ–ù–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø –°–û–í–†–ï–ú–ï–ù–ù–û–ô –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò:**

1. **JWT –≤ httpOnly cookies** - –∑–∞—â–∏—Ç–∞ –æ—Ç XSS –∞—Ç–∞–∫, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–º
2. **Refresh tokens —Å rotation** - access tokens (15 –º–∏–Ω), refresh tokens (7 –¥–Ω–µ–π) —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
3. **CSRF –∑–∞—â–∏—Ç–∞** - double submit cookie pattern –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç CSRF –∞—Ç–∞–∫
4. **MVC –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ controllers, services, middleware, entities
5. **React Auth Context** - —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
6. **PostgreSQL —Ö—Ä–∞–Ω–∏–ª–∏—â–µ** - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ refresh tokens –≤ –ë–î

‚úÖ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ - –Ω–æ–≤–∞—è RefreshToken entity
‚úÖ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ - JWT —Å–µ—Ä–≤–∏—Å —Å access/refresh tokens
‚úÖ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ - CSRF –∑–∞—â–∏—Ç–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
‚úÖ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ - –Ω–æ–≤—ã–π AuthController —Å–æ–∑–¥–∞–Ω
‚úÖ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ - JWT middleware –¥–ª—è cookies
‚úÖ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ - React AuthContext
‚úÖ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ - –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π API client
‚úÖ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π AuthGuard
‚úÖ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ - –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

–°—Ç–∞—Ç—É—Å –∑–∞–¥–∞—á–∏
done ‚úÖ - –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

üîÑ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω—É–∂–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –ë–î)
üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ API
üîÑ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –ø–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

## –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

–ü—Ä–æ–±–ª–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ –∞–¥–º–∏–Ω –¥–∞—à–±–æ—Ä–¥–µ –±—ã–ª–∞ —É—Å–ø–µ—à–Ω–æ —Ä–µ—à–µ–Ω–∞ –ø—É—Ç–µ–º –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞: –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫: Next.js 14, Node.js 18, Nginx, Docker, PostgreSQL, Redis.

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –Ω–∞ admin, backend, app –∏ landing —Å–µ—Ä–≤–∏—Å—ã.

BACKEND

Backend —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ NestJS —Å JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π. –û–±–Ω–æ–≤–ª–µ–Ω Node.js –¥–æ –≤–µ—Ä—Å–∏–∏ 18 –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è NestJS —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –º–æ–¥—É–ª—è–º–∏ auth, users, appointments –∏ —Ç.–¥.

–í–∞–∂–Ω—ã–µ –º–æ–¥—É–ª–∏: AuthModule, AppointmentsModule, UsersModule.

–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Node.js 18.

–ü—Ä–∏–º–µ—Ä .env: —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, JWT —Å–µ–∫—Ä–µ—Ç–∞, Redis –∏ —Ç.–¥.

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π: –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –∏–º–µ–µ—Ç controller, service, entity –∏ dto.

FRONTEND

Frontend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Next.js 14 —Å App Router –∏ basePath '/admin'.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤: App Router —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å pages –≤ app/ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.

–ü—Ä–∏–Ω—Ü–∏–ø—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤: React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å TypeScript, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ shadcn/ui.

–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–æ—É—Ç—ã: /admin/login, /admin/dashboard, /admin/appointments, /admin/clients –∏ —Ç.–¥.

–ü—Ä–∞–≤–∏–ª–∞ —Å–±–æ—Ä–∫–∏/–¥–µ–ø–ª–æ—è: Docker —Å–±–æ—Ä–∫–∞ —Å multi-stage –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–±—Ä–∞–∑–∞.