#!/bin/sh
set -e

echo "üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–∞ bcrypt –¥–ª—è —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã..."

# –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º bcrypt –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
# –≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ, —Ç–∞–∫ –∫–∞–∫ bcrypt –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –Ω–∞—Ç–∏–≤–Ω–æ –∏ –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
if npm uninstall bcrypt 2>/dev/null; then
  echo "üì¶ –£–¥–∞–ª–µ–Ω —Å—Ç–∞—Ä—ã–π bcrypt"
fi

echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ bcrypt –¥–ª—è —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã..."
if npm install bcrypt --no-save; then
  echo "‚úÖ bcrypt —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
else
  echo "‚ö†Ô∏è  –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –Ω–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å bcrypt, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º –∑–∞–ø—É—Å–∫..."
fi

# –ó–∞–ø—É—Å–∫–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É
exec "$@"

